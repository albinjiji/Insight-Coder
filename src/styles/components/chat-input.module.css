.dock {
  display:flex;
  justify-content:center;
  padding:16px;
  margin-top:auto;
}

.composer {
  display:grid;
  grid-template-columns: 36px 1fr 40px;
  grid-template-rows: auto 40px;
  column-gap: 8px;
  row-gap: 8px;

  width: clamp(560px, 60vw, 960px);
  background: var(--textFieldBackground);
  border:1px solid var(--textFieldBorderColor);
  border-radius:16px;
  box-shadow: 0 2px 10px rgba(0,0,0,.35);
  padding:12px;
}

/* Row 1: textarea spans all three columns */
.editor {
  grid-column: 1 / -1;
  grid-row: 1;
}

/* The textarea no longer needs giant bottom/right padding! */
.textarea {
  width:100%;
  min-height:44px;
  max-height: calc(22px * 3);     /* match JS autosize cap */
  line-height:22px;
  color: var(--foreground);
  background:transparent;
  border:0;
  outline:none;
  resize:none;
  overflow:hidden;                 /* JS switches to auto at cap */
  padding:10px 12px;               /* normal padding only */
}
.textarea::placeholder {
  color: var(--textFieldPlaceholderColor);
}

/* Row 2: buttons bar */
.leftAddon {
  grid-column: 1;                  /* bottom-left */
  grid-row: 2;
  align-self: center;
  justify-self: start;

  width:28px; height:28px;
  border-radius:8px;
  border:none;
  background: none;
  display:grid;
  place-items:center;
  cursor:pointer;
}

.leftAddon:hover {
  background: var(--textFieldBorderColor);
}

.sendBtn {
  grid-column: 3;                  /* bottom-right */
  grid-row: 2;
  align-self: center;
  justify-self: end;

  width: 36px;
  height: 36px;
  border-radius: 9999px;
  border: 0;
  background: var(--buttonBackground);
  color: var(--foreground);
  display: grid;
  place-items: center;
  cursor: pointer;
}
.sendBtn:disabled {
  opacity:.6;
  cursor: not-allowed;
}

/* Mobile */
@media (max-width:640px) {
  .composer{ width:100%; }
}
